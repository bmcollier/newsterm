# modularise and use mocking to test it

